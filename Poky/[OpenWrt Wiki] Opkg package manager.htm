<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" dir="ltr" class="js"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><style class="anchorjs"></style><style type="text/css">span.iconify, i.iconify, iconify-icon { display: inline-block; width: 1em; }</style>
    <meta charset="UTF-8">
    <title>[OpenWrt Wiki] Opkg package manager</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="shortcut icon" href="https://openwrt.org/_media/favicon.ico">
<link rel="apple-touch-icon" href="https://openwrt.org/lib/tpl/bootstrap3/images/apple-touch-icon.png">
<meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="keywords" content="docs,guide-user,additional-software,opkg">
<link rel="search" type="application/opensearchdescription+xml" href="https://openwrt.org/lib/exe/opensearch.php" title="OpenWrt Wiki">
<link rel="start" href="https://openwrt.org/">
<link rel="contents" href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=index" title="Sitemap">
<link rel="manifest" href="https://openwrt.org/lib/exe/manifest.php">
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="https://openwrt.org/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="https://openwrt.org/feed.php?mode=list&amp;ns=docs:guide-user:additional-software">
<link rel="alternate" type="text/html" title="Plain HTML" href="https://openwrt.org/_export/xhtml/docs/guide-user/additional-software/opkg">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="https://openwrt.org/_export/raw/docs/guide-user/additional-software/opkg">
<link rel="canonical" href="https://openwrt.org/docs/guide-user/additional-software/opkg">
<link rel="stylesheet" href="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/css.css">
<link rel="alternate" hreflang="tr" href="https://openwrt.org/tr/docs/guide-user/additional-software/opkg">
<link rel="alternate" hreflang="uk" href="https://openwrt.org/uk/docs/guide-user/additional-software/opkg">
<link rel="alternate" hreflang="zh" href="https://openwrt.org/zh/docs/guide-user/additional-software/opkg">
<link rel="alternate" hreflang="x-default" href="https://openwrt.org/docs/guide-user/additional-software/opkg">
<!--[if gte IE 9]><!-->
<script>/*<![CDATA[*/var NS='docs:guide-user:additional-software';var JSINFO = {"plugins":{"edittable":{"default columnwidth":""},"interwikipaste":{"patterns":"[{\"shortcut\":\"git\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/git\\\\.openwrt\\\\.org\\\\\\\/\\\\?p\\\\=openwrt%2Fopenwrt\\\\.git&a\\\\=search&h\\\\=HEAD&st\\\\=commit&s\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"paypal\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.paypal\\\\.com\\\\\\\/cgi\\\\-bin\\\\\\\/webscr\\\\?cmd\\\\=_xclick&amp;business\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"flyspray\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/bugs\\\\.openwrt\\\\.org\\\\\\\/index\\\\.php\\\\?do\\\\=details&task_id\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"bugs\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/bugs\\\\.openwrt\\\\.org\\\\\\\/index\\\\.php\\\\?string\\\\=([^ ]+)?&status\\\\[\\\\]\",\"encode\":false},{\"shortcut\":\"go\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.google\\\\.com\\\\\\\/search\\\\?q\\\\=([^ ]+)?&amp;btnI\\\\=lucky\",\"encode\":true},{\"shortcut\":\"amazon\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.amazon\\\\.com\\\\\\\/dp\\\\\\\/([^ ]+)?\\\\?tag\\\\=splitbrain\\\\-20\",\"encode\":true},{\"shortcut\":\"hwinfo\",\"pattern\":\"http\\\\:\\\\\\\/\\\\\\\/en\\\\.techinfodepot\\\\.shoutwiki\\\\.com\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"amazon.de\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.amazon\\\\.de\\\\\\\/dp\\\\\\\/([^ ]+)?\\\\?tag\\\\=splitbrain\\\\-21\",\"encode\":true},{\"shortcut\":\"ebay\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.ebay\\\\.com\\\\\\\/sch\\\\\\\/i\\\\.html\\\\?_nkw\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"ledefs\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/forum\\\\.openwrt\\\\.org\\\\\\\/search\\\\?q\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"owrtfs\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/forum\\\\.openwrt\\\\.org\\\\\\\/search\\\\?q\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wpmeta\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/meta\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wp\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/en\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wpfr\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/fr\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wpde\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/de\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wpes\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/es\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wppl\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/pl\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wpjp\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/ja\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"wpru\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/ru\\\\.wikipedia\\\\.org\\\\\\\/wiki\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"amazon.uk\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.amazon\\\\.co\\\\.uk\\\\\\\/dp\\\\\\\/([^ ]+)?\",\"encode\":true},{\"shortcut\":\"google\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.google\\\\.com\\\\\\\/search\\\\?q\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"rfc\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/tools\\\\.ietf\\\\.org\\\\\\\/html\\\\\\\/rfc([^ ]+)?\",\"encode\":false},{\"shortcut\":\"google.de\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.google\\\\.de\\\\\\\/search\\\\?q\\\\=([^ ]+)?\",\"encode\":false},{\"shortcut\":\"commit\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/git\\\\.openwrt\\\\.org\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"phpfn\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/secure\\\\.php\\\\.net\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"this\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/openwrt\\\\.org\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"doku\",\"pattern\":\"https\\\\:\\\\\\\/\\\\\\\/www\\\\.dokuwiki\\\\.org\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"callto\",\"pattern\":\"callto\\\\:\\\\\\\/\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"man\",\"pattern\":\"http\\\\:\\\\\\\/\\\\\\\/man\\\\.cx\\\\\\\/([^ ]+)?\",\"encode\":false},{\"shortcut\":\"skype\",\"pattern\":\"skype\\\\:([^ ]+)?\",\"encode\":false},{\"shortcut\":\"user\",\"pattern\":\"\\\\:user\\\\:([^ ]+)?\",\"encode\":false},{\"shortcut\":\"tel\",\"pattern\":\"tel\\\\:([^ ]+)?\",\"encode\":false}]"},"vshare":{"youtube":"youtube\\.com\/.*[&?]v=([a-z0-9_\\-]+)","vimeo":"vimeo\\.com\\\/(\\d+)","slideshare":"slideshare.*id=(\\d+)","dailymotion":"dailymotion\\.com\/video\/([a-z0-9]+)","archiveorg":"archive\\.org\/(?:embed|details)\/([a-zA-Z0-9_\\-]+)","soundcloud":"soundcloud\\.com\/([\\w-]+\/[\\w-]+)","niconico":"nicovideo\\.jp\/watch\/(sm[0-9]+)","bitchute":"bitchute\\.com\\\/video\\\/([a-zA-Z0-9_\\-]+)","coub":"coub\\.com\\\/view\\\/([a-zA-Z0-9_\\-]+)","odysee":"odysee\\.com\/\\$\/(?:embed|download)\/([-%_?=\/a-zA-Z0-9]+)","youku":"v\\.youku\\.com\/v_show\/id_([0-9A-Za-z=]+)\\.html","bilibili":"bilibili\\.com\\\/video\\\/(BV[0-9A-Za-z]+)","msoffice":"(?:office\\.com.*[&?]videoid=([a-z0-9\\-]+))","msstream":"microsoftstream\\.com\\\/video\\\/([a-f0-9\\-]{36})"}},"plugin_imagemap_mldummy":"\/_media\/wiki\/dokuwiki-128.png","plugin_enforcesummary":{"enforce_summary":1,"default_minoredit":0,"enforce_preview":0},"plugin_folded":{"hide":"hide","reveal":"reveal"},"move_renameokay":false,"schemes":["http","https","telnet","gopher","wais","ftp","ed2k","irc","ldap"],"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":0,"tocAffix":0,"tocCollapseOnScroll":0,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1,"useAlternativeToolbarIcons":1,"disableSearchSuggest":0}},"id":"docs:guide-user:additional-software:opkg","namespace":"docs:guide-user:additional-software","ACT":"show","useHeadingNavigation":1,"useHeadingContent":0};
/*!]]>*/</script>
<script src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/jquery.php" defer="defer">/*<![CDATA[*/
/*!]]>*/</script>
<script src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/js.php" defer="defer">/*<![CDATA[*/
/*!]]>*/</script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 65px; }  #dw__toc.affix { top: 55px; position: fixed !important; } }</style>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<script src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/toh.js"></script></head>
<body class="default dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel dw-table-width dw-fluid-container" data-page-id="docs:guide-user:additional-software:opkg"><div class="dokuwiki">
    <header id="dokuwiki__header" class="dw-container dokuwiki container-fluid mx-5">
    <!-- navbar -->
<nav id="dw__navbar" class="navbar navbar-fixed-top navbar-inverse" role="navigation">

    <div class="dw-container container-fluid mx-5">

        <div class="navbar-header">

            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand d-flex align-items-center" href="https://openwrt.org/start" accesskey="h" title="OpenWrt Wiki"><img id="dw__logo" class="pull-left h-100 mr-4" alt="OpenWrt Wiki" src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/logo.png"><div class="pull-right"><div id="dw__title">OpenWrt Wiki</div></div></a>
        </div>

        <div class="collapse navbar-collapse">

            
            
            <div class="navbar-right" id="dw__navbar_items">

                <!-- navbar-searchform -->
<form action="/docs/guide-user/additional-software/opkg" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search">
    <div class="input-group">
        <input id="qsearch" autocomplete="off" type="search" placeholder="Search" accesskey="f" name="q" class="form-control" title="[F]">
        <div class="input-group-btn">
            <button class="btn btn-default" type="submit" title="Search">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:magnify" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5z" fill="currentColor"></path></svg>            </button>
        </div>

    </div>
    <input type="hidden" name="do" value="search">
</form>
<!-- /navbar-searchform -->
<!-- tools-menu -->
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">

    
    <li class="dropdown">

        <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
            <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:wrench" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9c-2-2-5-2.4-7.4-1.3L9 6L6 9L1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" fill="currentColor"></path></svg> <span class="hidden-lg hidden-md hidden-sm">Tools</span> <span class="caret"></span>
        </a>

        <ul class="dropdown-menu tools" role="menu">
            
            <li class="dropdown-header">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:account" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M12 4a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4z" fill="currentColor"></path></svg> User Tools            </li>

            <li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=login&amp;sectok=" title="Log In" rel="nofollow" class="menuitem login"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 17.25V14H3v-4h7V6.75L15.25 12 10 17.25M8 2h9a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-4h2v4h9V4H8v4H6V4a2 2 0 0 1 2-2z"></path></svg><span>Log In</span></a></li>
                        <li class="divider" role="separator"></li>
            
        
            <li class="dropdown-header">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:toolbox" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M9 5v1h6V5H9m13 13c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4h5v1h2v-1h6v1h2v-1h5v4M4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22L21.58 12H17v-1h-2v1H9v-1H7v1H2.42L4.5 7.22z" fill="currentColor"></path></svg> Site Tools            </li>

            <li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=recent" title="Recent Changes [r]" rel="nofollow" accesskey="r" class="menuitem recent"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 13h1.5v2.82l2.44 1.41-.75 1.3L15 16.69V13m4-5H5v11h4.67c-.43-.91-.67-1.93-.67-3a7 7 0 0 1 7-7c1.07 0 2.09.24 3 .67V8M5 21a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2v6.1c1.24 1.26 2 2.99 2 4.9a7 7 0 0 1-7 7c-1.91 0-3.64-.76-4.9-2H5m11-9.85A4.85 4.85 0 0 0 11.15 16c0 2.68 2.17 4.85 4.85 4.85A4.85 4.85 0 0 0 20.85 16c0-2.68-2.17-4.85-4.85-4.85z"></path></svg><span>Recent Changes</span></a></li><li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=media&amp;ns=docs%3Aguide-user%3Aadditional-software" title="Media Manager" rel="nofollow" class="menuitem media"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 15l4.5-6 3.5 4.5 2.5-3L21 15m1-11h-8l-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2M2 6H0v14a2 2 0 0 0 2 2h18v-2H2V6z"></path></svg><span>Media Manager</span></a></li><li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=index" title="Sitemap [x]" rel="nofollow" accesskey="x" class="menuitem index"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 3h6v4H3V3m12 7h6v4h-6v-4m0 7h6v4h-6v-4m-2-4H7v5h6v2H5V9h2v2h6v2z"></path></svg><span>Sitemap</span></a></li>
                        <li class="divider" role="separator"></li>
            
        
            <li class="dropdown-header">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:file-document-outline" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6m0 2h7v5h5v11H6V4m2 8v2h8v-2H8m0 4v2h5v-2H8z" fill="currentColor"></path></svg> Page Tools            </li>

            <li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=edit" title="Show pagesource [v]" rel="nofollow" accesskey="v" class="menuitem source"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74 1.42-1.41-2.33-2.33 2.33-2.33-1.42-1.41-3.74 3.74m11.16 0l-3.74-3.74-1.42 1.41 2.33 2.33-2.33 2.33 1.42 1.41 3.74-3.74z"></path></svg><span>Show pagesource</span></a></li><li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=revisions" title="Old revisions [o]" rel="nofollow" class="menuitem revs"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 7v5.11l4.71 2.79.79-1.28-4-2.37V7m0-5C8.97 2 5.91 3.92 4.27 6.77L2 4.5V11h6.5L5.75 8.25C6.96 5.73 9.5 4 12.5 4a7.5 7.5 0 0 1 7.5 7.5 7.5 7.5 0 0 1-7.5 7.5c-3.27 0-6.03-2.09-7.06-5h-2.1c1.1 4.03 4.77 7 9.16 7 5.24 0 9.5-4.25 9.5-9.5A9.5 9.5 0 0 0 12.5 2z"></path></svg><span>Old revisions</span></a></li><li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=backlink" title="Backlinks" rel="nofollow" class="menuitem backlink"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24.973.973 0 0 1 0-1.42z"></path></svg><span>Backlinks</span></a></li><li class="action"><a href="#dokuwiki__top" title="Back to top [t]" rel="nofollow" class="menuitem top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg><span>Back to top</span></a></li>
            
                </ul>
    </li>

    
</ul>
<!-- /tools-menu -->
<!-- translation -->
<ul class="nav navbar-nav" id="dw__translation">
    <li class="dropdown">
        <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="Translations of this page" role="button" aria-haspopup="true" aria-expanded="false">
            <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:flag" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6z" fill="currentColor"></path></svg> <span class="hidden-lg hidden-md hidden-sm">Translations of this page</span><span class="caret"></span>
        </a>
        <ul class="dropdown-menu" role="menu">

                        <li class="dropdown-header hidden-xs hidden-sm">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:flag" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6z" fill="currentColor"></path></svg>Translations of this page <sup><a href="https://openwrt.org/meta/translation" class="wikilink1" title="meta:translation" data-wiki-id="meta:translation">?</a></sup>                        </li>

            <li class="menuitem"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg" class="wikilink1" title="English">English (en)</a></li><li class="menuitem"><a href="https://openwrt.org/ar/docs/guide-user/additional-software/opkg" class="" title="|العربية" style="opacity: 0.5;">|العربية (ar)</a></li><li class="menuitem"><a href="https://openwrt.org/cs/docs/guide-user/additional-software/opkg" class="" title="Česky" style="opacity: 0.5;">Česky (cs)</a></li><li class="menuitem"><a href="https://openwrt.org/de/docs/guide-user/additional-software/opkg" class="" title="Deutsch" style="opacity: 0.5;">Deutsch (de)</a></li><li class="menuitem"><a href="https://openwrt.org/es/docs/guide-user/additional-software/opkg" class="" title="Español" style="opacity: 0.5;">Español (es)</a></li><li class="menuitem"><a href="https://openwrt.org/fr/docs/guide-user/additional-software/opkg" class="" title="Français" style="opacity: 0.5;">Français (fr)</a></li><li class="menuitem"><a href="https://openwrt.org/hu/docs/guide-user/additional-software/opkg" class="" title="Magyar" style="opacity: 0.5;">Magyar (hu)</a></li><li class="menuitem"><a href="https://openwrt.org/it/docs/guide-user/additional-software/opkg" class="" title="Italiano" style="opacity: 0.5;">Italiano (it)</a></li><li class="menuitem"><a href="https://openwrt.org/ja/docs/guide-user/additional-software/opkg" class="" title="日本語" style="opacity: 0.5;">日本語 (ja)</a></li><li class="menuitem"><a href="https://openwrt.org/ko/docs/guide-user/additional-software/opkg" class="" title="한국어" style="opacity: 0.5;">한국어 (ko)</a></li><li class="menuitem"><a href="https://openwrt.org/pl/docs/guide-user/additional-software/opkg" class="" title="Polski" style="opacity: 0.5;">Polski (pl)</a></li><li class="menuitem"><a href="https://openwrt.org/pt/docs/guide-user/additional-software/opkg" class="" title="Português" style="opacity: 0.5;">Português (pt)</a></li><li class="menuitem"><a href="https://openwrt.org/pt-br/docs/guide-user/additional-software/opkg" class="" title="Português" style="opacity: 0.5;">Português (pt-br)</a></li><li class="menuitem"><a href="https://openwrt.org/ru/docs/guide-user/additional-software/opkg" class="" title="Русский" style="opacity: 0.5;">Русский (ru)</a></li><li class="menuitem"><a href="https://openwrt.org/tr/docs/guide-user/additional-software/opkg" class="wikilink1" title="Türkçe">Türkçe (tr)</a></li><li class="menuitem"><a href="https://openwrt.org/uk/docs/guide-user/additional-software/opkg" class="wikilink1" title="Українська">Українська (uk)</a></li><li class="menuitem"><a href="https://openwrt.org/vi/docs/guide-user/additional-software/opkg" class="" title="Tiếng Việt" style="opacity: 0.5;">Tiếng Việt (vi)</a></li><li class="menuitem"><a href="https://openwrt.org/zh/docs/guide-user/additional-software/opkg" class="wikilink1" title="中文">中文 (zh)</a></li><li class="menuitem"><a href="https://openwrt.org/zh-tw/docs/guide-user/additional-software/opkg" class="" title="繁體中文" style="opacity: 0.5;">繁體中文 (zh-tw)</a></li>
        </ul>
    </li>
</ul>
<!-- /translation -->

                <ul class="nav navbar-nav">

                    
                                        <li>
                        <span class="dw__actions dw-action-icon">
                        <a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=login&amp;sectok=" title="Log In" rel="nofollow" class="menuitem login btn btn-default navbar-btn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 17.25V14H3v-4h7V6.75L15.25 12 10 17.25M8 2h9a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-4h2v4h9V4H8v4H6V4a2 2 0 0 1 2-2z"></path></svg><span class=""> Log In</span></a>                        </span>
                    </li>
                    
                </ul>

                
                
            </div>

        </div>
    </div>
</nav>
<!-- navbar -->
    </header>

    <a name="dokuwiki__top" id="dokuwiki__top"></a>

    <main role="main" class="dw-container pb-5 dokuwiki container-fluid mx-5">

        <div id="dokuwiki__pageheader">

            
            <!-- breadcrumbs -->
<nav id="dw__breadcrumbs" class="small">

    <hr>

        <div class="dw__youarehere">
        <ol class="breadcrumb" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li>You are here</li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a href="https://openwrt.org/start" itemprop="item" title="start"><span itemprop="name"><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:home" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z" fill="currentColor"></path></svg><span class="sr-only">Home</span></span></a><meta itemprop="position" content="1"></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><span itemprop="name"><a itemprop="item" href="https://openwrt.org/docs/start" class="wikilink1" title="docs:start">Documentation</a></span><meta itemprop="position" content="2"></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><span itemprop="name"><a itemprop="item" href="https://openwrt.org/docs/guide-user/start" class="wikilink1" title="docs:guide-user:start">User guide</a></span><meta itemprop="position" content="3"></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><span itemprop="name"><a itemprop="item" href="https://openwrt.org/docs/guide-user/additional-software/start" class="wikilink1" title="docs:guide-user:additional-software:start">Installing additional software</a></span><meta itemprop="position" content="4"></li><li class="active" itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><span itemprop="name"><a itemprop="item" href="https://openwrt.org/docs/guide-user/additional-software/opkg" class="wikilink1" title="docs:guide-user:additional-software:opkg">Opkg package manager</a></span><meta itemprop="position" content="5"></li></ol>    </div>
    
    
    <hr>

</nav>
<!-- /breadcrumbs -->

            <p class="text-right">
                            </p>

            <div id="dw__msgarea" class="small">
                            </div>

        </div>

        <div class="row">

            <!-- sidebar -->
<aside id="dokuwiki__aside" class="dw__sidebar col-sm-3 col-md-2 hidden-print">
    <div class="dw-sidebar-content">
        <div class="dw-sidebar-title hidden-lg hidden-md hidden-sm" data-toggle="collapse" data-target="#dokuwiki__aside .dw-sidebar-body">
            <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:view-list" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M9 5v4h12V5M9 19h12v-4H9m0-1h12v-4H9M4 9h4V5H4m0 14h4v-4H4m0-1h4v-4H4v4z" fill="currentColor"></path></svg> Learn about OpenWrt        </div>
        <div class="dw-sidebar-body collapse in small">
            <h4 id="learn_about_openwrt" class=" page-header">Learn about OpenWrt</h4>
<div class="level4">
<ul class="nav  nav-pills nav-stacked">
<li class="level1"> <a href="https://openwrt.org/supported_devices" class="wikilink1" title="supported_devices">Supported devices</a>
</li>
<li class="level1"> <a href="https://openwrt.org/packages/start" class="wikilink1" title="packages:start">Packages</a>
</li>
<li class="level1"> <a href="https://openwrt.org/downloads" class="wikilink1" title="downloads">Downloads</a>
</li>
<li class="level1 node"> <a href="https://openwrt.org/docs/start" class="wikilink1" title="docs:start">Documentation</a>
<ul class="nav  nav-pills nav-stacked">
<li class="level2"> <a href="https://openwrt.org/docs/guide-quick-start/start" class="wikilink1" title="docs:guide-quick-start:start">Quick start guide</a>
</li>
<li class="level2"> <a href="https://openwrt.org/docs/guide-user/start" class="wikilink1" title="docs:guide-user:start">User guide</a>
</li>
<li class="level2"> <a href="https://openwrt.org/docs/guide-developer/start" class="wikilink1" title="docs:guide-developer:start">Developer guide</a>
</li>
</ul>
</li>
<li class="level1"> <a href="https://openwrt.org/docs/guide-developer/security" class="wikilink1" title="docs:guide-developer:security">Security</a>
</li>
<li class="level1"> <a href="https://openwrt.org/faq" class="wikilink1" title="faq">FAQ</a>
</li>
<li class="level1"> <a href="https://forum.openwrt.org/" class="urlextern" title="https://forum.openwrt.org/" rel="ugc nofollow">Forum</a>
</li>
</ul>

</div>

<h4 id="contributing" class=" page-header">Contributing</h4>
<div class="level4">
<ul class="nav  nav-pills nav-stacked">
<li class="level1"> <a href="https://openwrt.org/submitting-patches" class="wikilink1" title="submitting-patches">Submitting patches</a>
</li>
<li class="level1"> <a href="https://openwrt.org/bugs" class="wikilink1" title="bugs">Reporting bugs</a>
</li>
<li class="level1"> <a href="https://openwrt.org/wiki/wikirules" class="wikilink1" title="wiki:wikirules">Contributing to wiki</a>
</li>
</ul>

</div>

<h4 id="project" class=" page-header">Project</h4>
<div class="level4">
<ul class="nav  nav-pills nav-stacked">
<li class="level1"> <a href="https://openwrt.org/about" class="wikilink1" title="about">About OpenWrt</a>
</li>
<li class="level1"> <a href="https://openwrt.org/rules" class="wikilink1" title="rules">Rules</a>
</li>
<li class="level1"> <a href="https://openwrt.org/infrastructure" class="wikilink1" title="infrastructure">Infrastructure</a>
</li>
<li class="level1"> <a href="https://openwrt.org/donate" class="wikilink1" title="donate">Donate</a>
</li>
<li class="level1"> <a href="https://openwrt.org/merchandise" class="wikilink1" title="merchandise">Merchandise</a>
</li>
<li class="level1"> <a href="https://openwrt.org/wiki/start" class="wikilink1" title="wiki:start">Website</a>
</li>
<li class="level1"> <a href="https://openwrt.org/trademark" class="wikilink1" title="trademark">Trademark policy</a>
</li>
<li class="level1"> <a href="https://openwrt.org/license" class="wikilink1" title="license">License</a>
</li>
<li class="level1"> <a href="https://openwrt.org/contact" class="wikilink1" title="contact">Contacts</a>
</li>
</ul>

</div>        </div>
    </div>
</aside>
<!-- /sidebar -->

            <article id="dokuwiki__content" class="col-sm-9 col-md-10 " itemscope="" itemtype="http://schema.org/TechArticle" itemref="dw__license">

                
<!-- page-tools -->
<nav id="dw__pagetools" class="hidden-print">
    <div class="tools panel panel-default affix-top">
        <ul class="nav nav-stacked nav-pills text-muted">
            <li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=edit" title="Show pagesource [v]" rel="nofollow" accesskey="v" class="menuitem source"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74 1.42-1.41-2.33-2.33 2.33-2.33-1.42-1.41-3.74 3.74m11.16 0l-3.74-3.74-1.42 1.41 2.33 2.33-2.33 2.33 1.42 1.41 3.74-3.74z"></path></svg><span>Show pagesource</span></a></li><li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=revisions" title="Old revisions [o]" rel="nofollow" accesskey="o" class="menuitem revs"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 7v5.11l4.71 2.79.79-1.28-4-2.37V7m0-5C8.97 2 5.91 3.92 4.27 6.77L2 4.5V11h6.5L5.75 8.25C6.96 5.73 9.5 4 12.5 4a7.5 7.5 0 0 1 7.5 7.5 7.5 7.5 0 0 1-7.5 7.5c-3.27 0-6.03-2.09-7.06-5h-2.1c1.1 4.03 4.77 7 9.16 7 5.24 0 9.5-4.25 9.5-9.5A9.5 9.5 0 0 0 12.5 2z"></path></svg><span>Old revisions</span></a></li><li class="action"><a href="https://openwrt.org/docs/guide-user/additional-software/opkg?do=backlink" title="Backlinks" rel="nofollow" class="menuitem backlink"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24.973.973 0 0 1 0-1.42z"></path></svg><span>Backlinks</span></a></li><li class="action"><a href="#dokuwiki__top" title="Back to top [t]" rel="nofollow" accesskey="t" class="menuitem top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg><span>Back to top</span></a></li>        </ul>
    </div>
</nav>
<!-- /page-tools -->

                <div class="panel panel-default px-3 py-2" itemprop="articleBody">
                    <div class="page panel-body">

                        <!-- page-icons -->
<div class="dw-page-icons pull-right hidden-print">
    <ul class="list-inline">
        </ul>
</div>

<span class="clearfix"></span>

<!-- /page-icons -->

<div class="help modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close btn btn-default" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body px-5"></div>
        </div>
    </div>
</div>


<div class="dw-content-page "><script>JSINFO.bootstrap3.toc = [{"link":"#opkg_package_manager","title":"Opkg package manager","level":1},{"link":"#invocation","title":"Invocation","level":2},{"link":"#package_manipulation","title":"Package manipulation","level":2},{"link":"#informational_commands","title":"Informational commands","level":2},{"link":"#options","title":"Options","level":2},{"link":"#examples","title":"Examples","level":2},{"link":"#basics","title":"Basics","level":3},{"link":"#extras","title":"Extras","level":3},{"link":"#upgrading_packages","title":"Upgrading packages","level":3},{"link":"#configuration","title":"Configuration","level":2},{"link":"#adjust_repositories","title":"Adjust repositories","level":3},{"link":"#change_architectures","title":"Change architectures","level":3},{"link":"#proxy_support","title":"Proxy support","level":3},{"link":"#troubleshooting","title":"Troubleshooting","level":2},{"link":"#verbose_opkg_update","title":"Verbose opkg update","level":3},{"link":"#out_of_space","title":"Out of space","level":3},{"link":"#local_repository","title":"Local repository","level":3},{"link":"#non-standard_installation_destinations","title":"Non-standard installation destinations","level":2}];</script>
<!-- TOC START -->
<div class="dw-toc hidden-print">
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small" style="background-color: rgb(255, 255, 255);">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table of Contents" class="panel-heading toc-title"><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:view-list" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M9 5v4h12V5M9 19h12v-4H9m0-1h12v-4H9M4 9h4V5H4m0 14h4v-4H4m0-1h4v-4H4v4z" fill="currentColor"></path></svg> <span>Table of Contents</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in" style="width: 224px;">
<ul class="nav toc" style="max-height: 1256.37px; overflow-y: scroll;">
<li class="level1"><a href="#opkg_package_manager" style="color: rgb(51, 51, 51);">Opkg package manager</a>
<ul class="nav toc">
<li class="level2"><a href="#invocation" style="color: rgb(51, 51, 51);">Invocation</a></li>
<li class="level2"><a href="#package_manipulation" style="color: rgb(51, 51, 51);">Package manipulation</a></li>
<li class="level2"><a href="#informational_commands" style="color: rgb(51, 51, 51);">Informational commands</a></li>
<li class="level2"><a href="#options" style="color: rgb(51, 51, 51);">Options</a></li>
<li class="level2"><a href="#examples" style="color: rgb(51, 51, 51);">Examples</a>
<ul class="nav toc">
<li class="level3"><a href="#basics" style="color: rgb(51, 51, 51);">Basics</a></li>
<li class="level3"><a href="#extras" style="color: rgb(51, 51, 51);">Extras</a></li>
<li class="level3"><a href="#upgrading_packages" style="color: rgb(51, 51, 51);">Upgrading packages</a></li>
</ul>
</li>
<li class="level2"><a href="#configuration" style="color: rgb(51, 51, 51);">Configuration</a>
<ul class="nav toc">
<li class="level3"><a href="#adjust_repositories" style="color: rgb(51, 51, 51);">Adjust repositories</a></li>
<li class="level3"><a href="#change_architectures" style="color: rgb(51, 51, 51);">Change architectures</a></li>
<li class="level3"><a href="#proxy_support" style="color: rgb(51, 51, 51);">Proxy support</a></li>
</ul>
</li>
<li class="level2"><a href="#troubleshooting" style="color: rgb(51, 51, 51);">Troubleshooting</a>
<ul class="nav toc">
<li class="level3"><a href="#verbose_opkg_update" style="color: rgb(51, 51, 51);">Verbose opkg update</a></li>
<li class="level3"><a href="#out_of_space" style="color: rgb(51, 51, 51);">Out of space</a></li>
<li class="level3"><a href="#local_repository" style="color: rgb(51, 51, 51);">Local repository</a></li>
</ul>
</li>
<li class="level2"><a href="#non-standard_installation_destinations" style="color: rgb(51, 51, 51);">Non-standard installation destinations</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
<!-- TOC END -->
<!-- content --><div class="dw-content"><h1 class="sectionedit1 page-header pb-3 mb-4 mt-0" id="opkg_package_manager">Opkg package manager<a class="anchorjs-link " href="#opkg_package_manager" aria-label="Anchor link for: opkg_package_manager" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h1>
<div class="level1">

<p>
Like most Linux distributions (or mobile device operating systems like 
say Android or iOS), the functionality of the system can be upgraded 
rather significantly by downloading and installing pre-made packages 
from package repositories (local or on the Internet).
</p>

<p>
The <code>opkg</code> utility is the lightweight package manager used for this job.
Opkg is a fork of <code>ipkg</code>, the package manager used in NSLU2's <a href="https://web.archive.org/web/20200919214711if_/http://www2.nslu2-linux.org/wiki/pmwiki.php?pagename=Optware/HomePage" class="urlextern" title="https://web.archive.org/web/20200919214711if_/http://www2.nslu2-linux.org/wiki/pmwiki.php?pagename=Optware/HomePage" rel="ugc nofollow">Optware</a><sup>(archive link)</sup>, which is designed to add software to stock firmware of embedded devices.
</p>

<p>
Opkg is a full package manager for the root file system, including 
kernel modules and drivers, while ipkg is just a way to add software to a
 separate directory (e.g. <code>/opt</code>).
</p>

<p>
Opkg is sometimes called <em>Entware</em>, as it is also the package manager used by the <a href="https://github.com/Entware/Entware/wiki" class="urlextern" title="https://github.com/Entware/Entware/wiki" rel="ugc nofollow">Entware repository</a> for embedded devices (itself a fork of OpenWrt's community packages repository).
</p>

<p>
The package manager <code>opkg</code> attempts to resolve dependencies 
with packages in the repositories - if this fails, it will report an 
error and abort the installation of that package.
</p>

<p>
Missing dependencies with third-party packages are probably available from the source of the package.<br>

To ignore dependency errors, pass the <code>--force-depends</code> flag.
</p>

<p>
<img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/exclaim.svg" class="icon smiley" alt=":!:">
 If you are using a snapshot / trunk / bleeding edge version, installing
 packages may fail if the package in the repository is for a newer 
kernel version than the kernel version you have.<br>

In this case, you will get the error message <em>“Cannot satisfy the following dependencies for…”</em>.<br>

For such usage of OpenWrt firmware, it's warmly recommended to use the <a href="https://openwrt.org/docs/guide-user/additional-software/imagebuilder" class="wikilink1" title="docs:guide-user:additional-software:imagebuilder" data-wiki-id="docs:guide-user:additional-software:imagebuilder">Image Builder</a> to make a flashable image containing all packages you need.
</p>

<p>
<img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/exclaim.svg" class="icon smiley" alt=":!:"> When on trunk/snapshot, kernel and kmod packages are flagged as <em>hold</em>, the <code>opkg upgrade</code> command won't attempt to update them.
</p>

</div>

<h2 class="sectionedit2 page-header pb-3 mb-4 mt-0" id="invocation">Invocation<a class="anchorjs-link " href="#invocation" aria-label="Anchor link for: invocation" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">
<pre class="code bash"><span class="co0"># opkg</span>
opkg must have one sub-command argument:
usage: opkg <span class="br0">[</span>options...<span class="br0">]</span> sub-command <span class="br0">[</span>arguments...<span class="br0">]</span>
where sub-command is one of:</pre>

<p>
You can use <a href="https://en.wikipedia.org/wiki/Glob_(programming)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Glob_(programming)">glob patterns</a>.
</p>

</div>

<h2 class="sectionedit3 page-header pb-3 mb-4 mt-0" id="package_manipulation">Package manipulation<a class="anchorjs-link " href="#package_manipulation" aria-label="Anchor link for: package_manipulation" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">
<div class="table-responsive"><table class="inline table table-striped table-bordered table-condensed">
	<tbody><tr class="row0">
		<td class="col0"> <code><strong>update</strong></code> </td><td class="col1"> Update list of available packages<br>
This simply retrieves a file like this one: <a href="https://downloads.lede-project.org/snapshots/packages/aarch64_armv8-a/base/Packages" class="urlextern" title="https://downloads.lede-project.org/snapshots/packages/aarch64_armv8-a/base/Packages" rel="ugc nofollow">example</a>, for your installation and stores it on your <a href="https://en.wikipedia.org/wiki/tmpfs" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/tmpfs">RAM partition</a> under <code>/tmp/opkg-lists</code>.
 As of LEDE 17.01, after the opkg upgrade, this folder occupies about 
450 KiB of space. OPKG needs the content of this folder in order to 
install or upgrade packages or to print info about them. You can safely 
delete the contents of this folder anytime to free up some RAM (its 
content is also lost on reboot), don't forget to run <code>opkg update</code> again before you install a new package. </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <code><strong>upgrade</strong> &lt;pkgs&gt;</code> </td><td class="col1"> Upgrade packages<br>
To upgrade a group of packages, run <code>opkg upgrade <em>packagename1</em> <em>packagename2</em></code>.<br>
A list of upgradeable packages can be obtained with the <code>opkg list-upgradable</code> command.<br>
------------<br>
<img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/exclaim.svg" class="icon smiley" alt=":!:">
 Since OpenWrt firmware stores the base system in a compressed read-only
 partition, any update to base system packages will be written in the 
read-write partition and therefore use more space than it would if it 
was just overwriting the older version in the compressed base system 
partition. It's recommended to check the available space in internal 
flash memory and the space requirements for updates of base system 
packages.<br>
Upgrading packages you installed should not have this issue as they are 
already in the read-write partition so the new one will overwrite the 
older one, although checking before upgrading never hurts.<br>
As a general rule of thumb, devices that have 8 MiB or more total flash 
size and no user-installed packages should not have space issues when 
updating base packages, and of course devices set up for <a href="https://openwrt.org/docs/guide-user/additional-software/extroot_configuration" class="wikilink1" title="docs:guide-user:additional-software:extroot_configuration" data-wiki-id="docs:guide-user:additional-software:extroot_configuration">Extroot</a> won't have any space issue.<br>
To check for free space, write <code>df -h /</code> from <abbr title="" data-original-title="Secure Shell">SSH</abbr> or go in Software page in Luci webinterface (System submenu -→ Software) to see how much space is left in the internal storage.<br>
Check the size of packages you want to update by writing <code>opkg info package-name</code> in <abbr title="" data-original-title="Secure Shell">SSH</abbr> or by checking the package size listed in the table in Software page, or you can check the <a href="https://openwrt.org/packages/start" class="wikilink1" title="packages:start" data-wiki-id="packages:start">Table of Packages</a>
 here in the wiki. While the “size” in opkg is the size of package in a 
compressed archive, the jffs2 or ubifs read-write partition will use the
 same compression algorithm on the installed files, so it should have 
similar size when installed.<br>
<img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/exclaim.svg" class="icon smiley" alt=":!:">
 The package repositories in the development snapshots are updated by 
the build bots to new versions very often, so it's very likely you won't
 be able to upgrade some packages due to broken dependencies with kernel
 or kernel-related packages. In that case, it's recommended to use the <a href="https://openwrt.org/docs/guide-user/additional-software/imagebuilder" class="wikilink1" title="docs:guide-user:additional-software:imagebuilder" data-wiki-id="docs:guide-user:additional-software:imagebuilder">Image Builder</a> and make a new firmware image with all packages you need and flash that instead of upgrading through opkg. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code><strong>install</strong> &lt;pkgs|url&gt;</code> </td><td class="col1"> Install package(s)<br>
Examples: <pre class="code bash">opkg <span class="kw2">install</span> hiawatha
opkg <span class="kw2">install</span> http:<span class="sy0">//</span>downloads.openwrt.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>trunk<span class="sy0">/</span>ar71xx<span class="sy0">/</span>packages<span class="sy0">/</span>hiawatha_7.7-<span class="nu0">2</span>_ar71xx.ipk
opkg <span class="kw2">install</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>hiawatha_7.7-<span class="nu0">2</span>_ar71xx.ipk</pre>

<p>
 If you are installing a package to 'replace' a busybox applet, you may 
need to invalidate your shell's command hash table entry in order to use
 the new command. To do this, either log out and back in again, or use <code>hash -r</code>.
</p>
</td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code><strong>configure</strong> &lt;pkgs&gt;</code> </td><td class="col1"> Configure unpacked package(s) </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code><strong>remove</strong> &lt;pkgs|globp&gt;</code> </td><td class="col1"> Remove package(s) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code><strong>flag</strong> &lt;flag&gt; &lt;pkgs&gt;</code> </td><td class="col1"> Flag one or multiple package(s). Only one flag per invocation is allowed. Available flags:<br>
hold • noprune • user • ok • installed • unpacked </td>
	</tr>
</tbody></table></div>

</div>

<h2 class="sectionedit5 page-header pb-3 mb-4 mt-0" id="informational_commands">Informational commands<a class="anchorjs-link " href="#informational_commands" aria-label="Anchor link for: informational_commands" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">
<div class="table-responsive"><table class="inline table table-striped table-bordered table-condensed">
	<tbody><tr class="row0">
		<td class="col0"> <code><strong>list</strong> [pkg|globp]</code> </td><td class="col1"> List available packages<br>
<pre class="code bash">Package name - Version - Description</pre>

<p>
 The Description can contain line breaks, so using merely grep is inapt since grep is line-based. 
</p>
</td>
	</tr>
	<tr class="row1">
		<td class="col0"> <code><strong>list-installed</strong></code> </td><td class="col1"> List installed packages </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code><strong>list-upgradable</strong></code> </td><td class="col1"> List installed and upgradable packages </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code><strong>list-changed-conffiles</strong></code> </td><td class="col1"> List user modified configuration files </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code><strong>files</strong> &lt;pkg&gt;</code> </td><td class="col1"> List files belonging to &lt;pkg&gt;. The package has to be already installed for this to work. Example:<pre class="code bash">opkg files asterisk18
Package asterisk18 <span class="br0">(</span>1.8.4.4-<span class="nu0">1</span><span class="br0">)</span> is installed on root and has the following files:
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>res_rtp_multicast.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>codec_ulaw.so
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>features.conf
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>format_wav_gsm.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>app_macro.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>chan_sip.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>app_dial.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>app_playback.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>format_gsm.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>func_callerid.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>func_timeout.so
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>asterisk.conf
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules.conf
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>format_wav.so
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>extensions.conf
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>asterisk
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>manager.conf
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>res_rtp_asterisk.so
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>logger.conf
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>rtp.conf
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>codec_gsm.so
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>indications.conf
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>func_strings.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>app_echo.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>format_pcm.so
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>sip_notify.conf
<span class="sy0">/</span>etc<span class="sy0">/</span>asterisk<span class="sy0">/</span>sip.conf
<span class="sy0">/</span>etc<span class="sy0">/</span>default<span class="sy0">/</span>asterisk
<span class="sy0">/</span>usr<span class="sy0">/</span>sbin<span class="sy0">/</span>asterisk
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>pbx_config.so
<span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>asterisk<span class="sy0">/</span>modules<span class="sy0">/</span>func_logic.so</pre>
</td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code><strong>search</strong> &lt;file|globp&gt;</code> </td><td class="col1"> List package providing &lt;file&gt; </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code><strong>info</strong> [pkg|globp]</code> </td><td class="col1"> Display all info for &lt;pkg&gt;<br>
<pre class="code bash">Package: horst
Version: <span class="nu0">2.0</span>-rc1-<span class="nu0">2</span>
Depends: libncurses
Provides:
Status: <span class="kw2">install</span> user installed
Section: net
Architecture: ar71xx
Maintainer: Bruno Randolf <span class="sy0">&lt;</span>br1<span class="sy0">@</span>einfach.org<span class="sy0">&gt;</span>
MD5Sum: 378cea9894ec971c419876e822666a6a
Size: <span class="nu0">19224</span>
Filename: horst_2.0-rc1-<span class="nu0">2</span>_ar71xx.ipk
Source: feeds<span class="sy0">/</span>packages<span class="sy0">/</span>net<span class="sy0">/</span>horst
Description: <span class="br0">[</span>horst<span class="br0">]</span> is a scanning and analysis tool <span class="kw1">for</span> <span class="nu0">802.11</span> wireless networks and
 especially IBSS <span class="br0">(</span>ad-hoc<span class="br0">)</span> mode and mesh networks <span class="br0">(</span>OLSR<span class="br0">)</span>.</pre>

<p>
 <strong>Note 1:</strong> The <em>Size</em> is the size of the gzip 
compressed tar archive. At installation package gets un-tared and 
decompressed, but then again JFFS2 uses compression itself.<br>
<strong>Note 2:</strong> Since the compression of JFFS2 is transparent, commands like <code>ls</code> will always report the size of the uncompressed file. 
</p>
</td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code><strong>status</strong> [pkg|globp]</code> </td><td class="col1"> Display all status for &lt;pkg&gt; </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code><strong>download</strong> &lt;pkg&gt;</code> </td><td class="col1"> Download &lt;pkg&gt; to current directory </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <code><strong>compare-versions</strong> &lt;v1&gt; &lt;op&gt; &lt;v2&gt;</code> </td><td class="col1"> Compare versions <code>v1</code> and <code>v2</code> using the operators <code>&lt;=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>=</code>, <code>&lt;&lt;</code> or <code>&gt;&gt;</code> </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <code><strong>print-architecture</strong></code> </td><td class="col1"> List installable package architectures </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <code><strong>whatdepends</strong> [-A] [pkgname|pat]+</code> </td><td class="col1">
 This only works for installed packages. So if you would like to know 
how much storage a package and all of its dependencies would need, at 
the moment, you will have to piece this information together with the <code>info</code>-option. </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <code><strong>whatdependsrec</strong> [-A] [pkgname|pat]+</code> </td><td class="col1">
 This only works for installed packages. So if you would like to know 
how much storage a package and all of its dependencies would need, at 
the moment, you will have to piece this information together with the <code>info</code>-option. </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <code><strong>whatprovides</strong> [-A] [pkgname|pat]+</code> </td><td class="col1"> </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <code><strong>whatconflicts</strong> [-A] [pkgname|pat]+</code> </td><td class="col1"> </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <code><strong>whatreplaces</strong> [-A] [pkgname|pat]+</code> </td><td class="col1"> </td>
	</tr>
</tbody></table></div>

</div>

<h2 class="sectionedit7 page-header pb-3 mb-4 mt-0" id="options">Options<a class="anchorjs-link " href="#options" aria-label="Anchor link for: options" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">
<div class="table-responsive"><table class="inline table table-striped table-bordered table-condensed">
	<thead>
	<tr class="row0">
		<th class="col0"> Option </th><th class="col1"> Long </th><th class="col2"> Description </th>
	</tr>
	</thead>
	<tbody><tr class="row1">
		<td class="col0"> <code>-A</code> </td><td class="col1"> </td><td class="col2"> Query all packages not just those installed </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>-V[&lt;level&gt;]</code> </td><td class="col1"> <code>--verbosity[=&lt;level&gt;]</code> </td><td class="col2"> Set verbosity level to &lt;level&gt;. Available verbosity levels:<br>
0 errors only<br>
1 normal messages (default)<br>
2 informative messages<br>
3 debug<br>
4 debug level 2 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>-f &lt;conf_file&gt;</code> </td><td class="col1"> <code>--conf &lt;conf_file&gt;</code> </td><td class="col2"> Use &lt;conf_file&gt; as the opkg configuration file. Default is <code>/etc/opkg.conf</code> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> </td><td class="col1"> <code>--cache &lt;directory&gt;</code> </td><td class="col2"> Use a package cache </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>-d &lt;dest_name&gt;</code> </td><td class="col1"> <code>--dest &lt;dest_name&gt;</code> </td><td class="col2">
 Use &lt;dest_name&gt; as the the root directory for package 
installation, removal, upgrading. &lt;dest_name&gt; should be a defined 
dest name from the configuration file, (but can also be a directory name
 in a pinch). </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>-o &lt;dir&gt;</code> </td><td class="col1"> <code>--offline-root &lt;dir&gt;</code> </td><td class="col2"> Use &lt;dir&gt; as the root directory for offline installation of packages. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> </td><td class="col1"> <code>--add-arch &lt;arch&gt;:&lt;prio&gt;</code> </td><td class="col2"> Register architecture with given priority </td>
	</tr>
	<tr class="row8">
		<td class="col0"> </td><td class="col1"> <code>--add-dest &lt;name&gt;:&lt;path&gt;</code> </td><td class="col2"> Register destination with given path </td>
	</tr>
	<tr class="row9">
		<th class="col0" colspan="3"> Force Options </th>
	</tr>
	<tr class="row10">
		<td class="col0"> </td><td class="col1"> <code>--force-depends</code> </td><td class="col2"> Install/remove despite failed dependencies </td>
	</tr>
	<tr class="row11">
		<td class="col0"> </td><td class="col1"> <code>--force-maintainer</code> </td><td class="col2"> Overwrite preexisting config files </td>
	</tr>
	<tr class="row12">
		<td class="col0"> </td><td class="col1"> <code>--force-reinstall</code> </td><td class="col2"> Reinstall package(s) </td>
	</tr>
	<tr class="row13">
		<td class="col0"> </td><td class="col1"> <code>--force-overwrite</code> </td><td class="col2"> Overwrite files from other package(s) </td>
	</tr>
	<tr class="row14">
		<td class="col0"> </td><td class="col1"> <code>--force-downgrade</code> </td><td class="col2"> Allow opkg to downgrade packages </td>
	</tr>
	<tr class="row15">
		<td class="col0"> </td><td class="col1"> <code>--force-space</code> </td><td class="col2"> Disable free space checks </td>
	</tr>
	<tr class="row16">
		<td class="col0"> </td><td class="col1"> <code>--force-checksum</code> </td><td class="col2"> Ignore checksum mismatches </td>
	</tr>
	<tr class="row17">
		<td class="col0"> </td><td class="col1"> <code>--force-postinstall</code> </td><td class="col2"> Run postinstall scripts even in offline mode </td>
	</tr>
	<tr class="row18">
		<td class="col0"> </td><td class="col1"> <code>--noaction</code> </td><td class="col2"> No action -- test only </td>
	</tr>
	<tr class="row19">
		<td class="col0"> </td><td class="col1"> <code>--download-only</code> </td><td class="col2"> No action -- download only </td>
	</tr>
	<tr class="row20">
		<td class="col0"> </td><td class="col1"> <code>--nodeps</code> </td><td class="col2"> Do not follow dependencies </td>
	</tr>
	<tr class="row21">
		<td class="col0"> </td><td class="col1"> <code>--force-removal-of-dependent-packages</code> </td><td class="col2"> Remove package and all dependencies </td>
	</tr>
	<tr class="row22">
		<td class="col0"> </td><td class="col1"> <code>--autoremove</code> </td><td class="col2"> Remove packages that were installed automatically to satisfy dependencies </td>
	</tr>
	<tr class="row23">
		<td class="col0"> <code>-t</code> </td><td class="col1"> <code>--tmp-dir</code> </td><td class="col2"> Specify tmp-dir. </td>
	</tr>
</tbody></table></div>

</div>

<h2 class="sectionedit9 page-header pb-3 mb-4 mt-0" id="examples">Examples<a class="anchorjs-link " href="#examples" aria-label="Anchor link for: examples" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">

</div>

<h3 class="sectionedit10 page-header pb-3 mb-4 mt-0" id="basics">Basics<a class="anchorjs-link " href="#basics" aria-label="Anchor link for: basics" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">
<pre class="code bash"><span class="co0"># Install a package</span>
opkg update
opkg <span class="kw2">install</span> <span class="sy0">&lt;</span>package<span class="sy0">&gt;</span>
&nbsp;
<span class="co0"># List packages</span>
opkg list
&nbsp;
<span class="co0"># Display package information</span>
opkg info <span class="sy0">&lt;</span>package<span class="sy0">&gt;</span></pre>

</div>

<h3 class="sectionedit11 page-header pb-3 mb-4 mt-0" id="extras">Extras<a class="anchorjs-link " href="#extras" aria-label="Anchor link for: extras" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">

<p>
You can make use of <a href="https://en.wikipedia.org/wiki/Glob_(programming)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Glob_(programming)">glob patterns</a> directly and also write a little <a href="https://en.wikipedia.org/wiki/Shell%20script" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Shell script">shell script</a> to use <a href="https://en.wikipedia.org/wiki/Regular%20expression" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Regular expression">regular expressions</a> and otherwise further process information.
Use a <a href="https://en.wikipedia.org/wiki/Pipeline_(Unix)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Pipeline_(Unix)">pipeline</a> and <a href="http://man.cx/grep%281%29" class="interwiki iw_man" title="http://man.cx/grep%281%29">grep</a>, or <a href="http://man.cx/awk%281%29" class="interwiki iw_man" title="http://man.cx/awk%281%29">awk</a>, or <a href="http://man.cx/sed%281%29" class="interwiki iw_man" title="http://man.cx/sed%281%29">sed</a> to filter that output:
</p>
<pre class="code bash">opkg list <span class="sy0">|</span> <span class="kw2">grep</span> <span class="re5">-e</span> <span class="sy0">&lt;</span>pattern1<span class="sy0">&gt;</span> <span class="re5">-e</span> <span class="sy0">&lt;</span>pattern2<span class="sy0">&gt;</span>
opkg list <span class="sy0">|</span> <span class="kw2">awk</span> <span class="re5">-e</span> <span class="st_h">'/&lt;pattern&gt;/{print $0}'</span>
opkg info kmod-nf-\<span class="sy0">*</span> <span class="sy0">|</span> <span class="kw2">awk</span> <span class="re5">-e</span> <span class="st_h">'/length/{print $0}'</span>
opkg list-installed <span class="sy0">|</span> <span class="kw2">awk</span> <span class="re5">-e</span> <span class="st_h">'{print $1}'</span> <span class="sy0">|</span> <span class="kw2">tr</span> <span class="st_h">'\n'</span> <span class="st_h">' '</span>
<span class="kw1">for</span> pkg <span class="kw1">in</span> <span class="sy0">&lt;</span>package1<span class="sy0">&gt;</span> <span class="sy0">&lt;</span>package2<span class="sy0">&gt;</span> <span class="sy0">&lt;</span>package3<span class="sy0">&gt;</span>; <span class="kw1">do</span> opkg info <span class="co1">${pkg}</span>; <span class="kw1">done</span>
opkg depends dropbear</pre>

</div>

<h3 class="sectionedit12 page-header pb-3 mb-4 mt-0" id="upgrading_packages">Upgrading packages<a class="anchorjs-link " href="#upgrading_packages" aria-label="Anchor link for: upgrading_packages" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">
<div class="wrap_important plugin_wrap">
<p>
Mass upgrade of all packages is <a href="https://openwrt.org/meta/infobox/upgrade_packages_warning" class="wikilink1" title="meta:infobox:upgrade_packages_warning" data-wiki-id="meta:infobox:upgrade_packages_warning">strongly discouraged</a>.
The chance of soft-bricking your device is significant, so be fully prepared to perform a <a href="https://openwrt.org/docs/guide-user/troubleshooting/failsafe_and_factory_reset" class="wikilink1" title="docs:guide-user:troubleshooting:failsafe_and_factory_reset" data-wiki-id="docs:guide-user:troubleshooting:failsafe_and_factory_reset">recovery and factory reset in failsafe mode</a>.
Proceed at your own risk.
</p>
</div><pre class="code bash"><span class="co0"># Upgrade all installed packages</span>
opkg list-upgradable <span class="sy0">|</span> <span class="kw2">cut</span> <span class="re5">-f</span> <span class="nu0">1</span> <span class="re5">-d</span> <span class="st_h">' '</span> <span class="sy0">|</span> <span class="kw2">xargs</span> opkg upgrade</pre>

</div>

<h2 class="sectionedit15 page-header pb-3 mb-4 mt-0" id="configuration">Configuration<a class="anchorjs-link " href="#configuration" aria-label="Anchor link for: configuration" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">

<p>
The main configuration file is <code>/etc/opkg.conf</code>.
It could look like this:
</p>
<pre class="code bash">dest root <span class="sy0">/</span>
dest ram <span class="sy0">/</span>tmp
lists_dir ext <span class="sy0">/</span>var<span class="sy0">/</span>opkg-lists
option overlay_root <span class="sy0">/</span>overlay</pre>

<p>
As you can see, it sets default folders:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> default root directory (default <code>/</code> )</div>
</li>
<li class="level1"><div class="li"> default ram disk (default <code>/tmp</code> )</div>
</li>
<li class="level1"><div class="li"> default folder to store package lists (default <code>/var/opkg-lists</code>, still a ram disk)</div>
</li>
<li class="level1"><div class="li"> what is the overlay directory (default <code>/overlay</code>)</div>
</li>
</ul>

<p>
Most of these options must be left to default, or have no real reason to be changed.
</p>

<p>
You might want to change the <code>lists_dir ext /var/opkg-lists</code> to <code>lists_dir ext /path/on/disk</code> if your device has 32 MiB or less of RAM and <a href="https://openwrt.org/docs/guide-user/additional-software/extroot_configuration" class="wikilink1" title="docs:guide-user:additional-software:extroot_configuration" data-wiki-id="docs:guide-user:additional-software:extroot_configuration">you expanded your firmware's storage space in an external drive</a>, so you can use opkg without causing Out Of Memory errors.
</p>

<p>
This file is accessible and can be modified from Luci Web interface too, Click on <strong>Services</strong> then on <strong>Software</strong>.
Click on <strong>Configuration</strong> tab.
</p>

</div>

<h3 class="sectionedit16 page-header pb-3 mb-4 mt-0" id="adjust_repositories">Adjust repositories<a class="anchorjs-link " href="#adjust_repositories" aria-label="Anchor link for: adjust_repositories" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">

<p>
Feeds are set in <code>/etc/opkg/distfeeds.conf</code>:
</p>
<pre class="code bash">src<span class="sy0">/</span>gz reboot_core http:<span class="sy0">//</span>downloads.lede-project.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>targets<span class="sy0">/</span>ramips<span class="sy0">/</span>mt7620<span class="sy0">/</span>packages
src<span class="sy0">/</span>gz reboot_base http:<span class="sy0">//</span>downloads.lede-project.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>packages<span class="sy0">/</span>mipsel_24kc<span class="sy0">/</span>base
src<span class="sy0">/</span>gz reboot_telephony http:<span class="sy0">//</span>downloads.lede-project.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>packages<span class="sy0">/</span>mipsel_24kc<span class="sy0">/</span>telephony
src<span class="sy0">/</span>gz reboot_packages http:<span class="sy0">//</span>downloads.lede-project.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>packages<span class="sy0">/</span>mipsel_24kc<span class="sy0">/</span>packages
src<span class="sy0">/</span>gz reboot_routing http:<span class="sy0">//</span>downloads.lede-project.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>packages<span class="sy0">/</span>mipsel_24kc<span class="sy0">/</span>routing
src<span class="sy0">/</span>gz reboot_luci http:<span class="sy0">//</span>downloads.lede-project.org<span class="sy0">/</span>snapshots<span class="sy0">/</span>packages<span class="sy0">/</span>mipsel_24kc<span class="sy0">/</span>luci</pre>

<p>
There is also another file for custom feeds called <code>/etc/opkg/customfeeds.conf</code>:
</p>
<pre class="code bash"><span class="co0"># add your custom package feeds here</span>
<span class="co0">#</span>
<span class="co0"># src/gz example_feed_name http://www.example.com/path/to/files</span></pre>

<p>
Both files are accessible and can be modified from Luci Web interface too, Click on <strong>Services</strong> then on <strong>Software</strong>.
Click on <strong>Configuration</strong> tab, then scroll down.
</p>

</div>

<h4 id="local_repositories">Local repositories<a class="anchorjs-link " href="#local_repositories" aria-label="Anchor link for: local_repositories" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h4>
<div class="level4">

<p>
You can configure opkg to fetch the packages locally:
</p>
<pre class="code bash">src<span class="sy0">/</span>gz <span class="kw3">local</span> file:<span class="sy0">///</span>path<span class="sy0">/</span>to<span class="sy0">/</span>packagesDirectory</pre>

<p>
OpenWrt uses multiple repositories, where every repository requires a unique identifier.
It is logical to use their original names, e.g.:
</p>
<pre class="code bash">...
src<span class="sy0">/</span>gz base file:<span class="sy0">///</span>path<span class="sy0">/</span>to<span class="sy0">/</span>packages<span class="sy0">/</span>directory<span class="sy0">/</span>packages<span class="sy0">/</span>base
src<span class="sy0">/</span>gz luci file:<span class="sy0">///</span>path<span class="sy0">/</span>to<span class="sy0">/</span>packages<span class="sy0">/</span>directory<span class="sy0">/</span>packages<span class="sy0">/</span>luci
src<span class="sy0">/</span>gz packages file:<span class="sy0">///</span>path<span class="sy0">/</span>to<span class="sy0">/</span>packages<span class="sy0">/</span>directory<span class="sy0">/</span>packages<span class="sy0">/</span>packages
src<span class="sy0">/</span>gz oldpackages file:<span class="sy0">///</span>path<span class="sy0">/</span>to<span class="sy0">/</span>packages<span class="sy0">/</span>directory<span class="sy0">/</span>packages<span class="sy0">/</span>oldpackages
... etc ...</pre>

</div>

<h3 class="sectionedit17 page-header pb-3 mb-4 mt-0" id="change_architectures">Change architectures<a class="anchorjs-link " href="#change_architectures" aria-label="Anchor link for: change_architectures" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">
<div class="wrap_todo plugin_wrap">
<p>
OpenWrt is using package architectures.
Many devices pull packages from the same pool.
</p>

<p>
The following paragraph requires proofreading and likely some modification to be adapted for the current OpenWrt status.
</p>
</div>
<p>
By default, opkg only allows packages with the architecture <code>all</code>
 (= architecture independent) and the architecture of the installed 
target.
In order to download and install packages for a foreign target 
architecture, the list of allowed architectures can be overridden in <code>/etc/opkg.conf</code> with the use of <code>arch</code> options:
</p>
<pre class="code bash"><span class="kw2">arch</span> all <span class="nu0">100</span>
<span class="kw2">arch</span> brcm4716 <span class="nu0">200</span>
<span class="kw2">arch</span> brcm47xx <span class="nu0">300</span></pre>

<p>
This example would allow installing <code>brcm47xx</code> packages (compiled to run on <code>brcm47xx</code> family of SoC/devices) on the <code>brcm4716</code> (a specific SoC) target.
The number specifies a priority index which is used by <code>opkg</code> to determine which package to prefer in case it is available in multiple architectures.
</p>

</div>

<h3 class="sectionedit20 page-header pb-3 mb-4 mt-0" id="proxy_support">Proxy support<a class="anchorjs-link " href="#proxy_support" aria-label="Anchor link for: proxy_support" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">

<p>
OpenWrt 21.02:
</p>
<pre class="code bash"><span class="co0"># Configure profile</span>
<span class="kw2">mkdir</span> <span class="re5">-p</span> <span class="sy0">/</span>etc<span class="sy0">/</span>profile.d
<span class="kw2">cat</span> <span class="sy0">&lt;&lt;</span> <span class="st0">"EOF"</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>etc<span class="sy0">/</span>profile.d<span class="sy0">/</span>custom.sh
<span class="kw3">export</span> <span class="re2">https_proxy</span>=http:<span class="sy0">//</span>proxy.example.org:<span class="nu0">8080</span><span class="sy0">/</span>
EOF
. <span class="sy0">/</span>etc<span class="sy0">/</span>profile
&nbsp;
<span class="co0"># Workaround</span>
<span class="kw2">sed</span> <span class="re5">-i</span> <span class="re5">-e</span> <span class="st0">"s/https/http/"</span> <span class="sy0">/</span>etc<span class="sy0">/</span>opkg<span class="sy0">/</span>distfeeds.conf</pre>

<p>
To use <code>opkg</code> through a proxy, add the following to <code>/etc/opkg.conf</code>:
</p>
<pre class="code bash">option http_proxy http:<span class="sy0">//</span>proxy.example.org:<span class="nu0">8080</span><span class="sy0">/</span>
option ftp_proxy ftp:<span class="sy0">//</span>proxy.example.org:<span class="nu0">2121</span><span class="sy0">/</span></pre>

<p>
Use the options below to authenticate against the proxy server:
</p>
<pre class="code bash">option proxy_user xxxx
option proxy_passwd xxxx</pre>

<p>
Alternatively, a username and password may be provided as part of the <abbr title="" data-original-title="Uniform Resource Locator">URL</abbr> if busybox wget is installed:
</p>
<pre class="code bash">option http_proxy http:<span class="sy0">//</span>username:password<span class="sy0">@</span>proxy.example.org:<span class="nu0">8080</span><span class="sy0">/</span>
option ftp_proxy http:<span class="sy0">//</span>username:password<span class="sy0">@</span>proxy.example.org:<span class="nu0">2121</span><span class="sy0">/</span></pre>

<p>
<img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/exclaim.svg" class="icon smiley" alt=":!:"> Authentication currently fails when using uclient-fetch as wget due to <code>Proxy-Authorization</code> not yet being implemented.
</p>

<p>
If you are running apt-cacher-ng and want to use that for OpenWRT, you 
may experience problems downloading .sig files through apt-cacher-ng.
In that case put the following line in your <code>acng.conf</code> file:
</p>
<pre class="code bash">VfilePatternEx: <span class="sy0">|</span>\.sig$</pre>

</div>

<h2 class="sectionedit21 page-header pb-3 mb-4 mt-0" id="troubleshooting">Troubleshooting<a class="anchorjs-link " href="#troubleshooting" aria-label="Anchor link for: troubleshooting" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">

</div>

<h3 class="sectionedit22 page-header pb-3 mb-4 mt-0" id="verbose_opkg_update">Verbose opkg update<a class="anchorjs-link " href="#verbose_opkg_update" aria-label="Anchor link for: verbose_opkg_update" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">
<pre class="code bash"><span class="co0"># Save the script</span>
<span class="kw2">cat</span> <span class="sy0">&lt;&lt;</span> <span class="st0">"EOF"</span> <span class="sy0">&gt;</span> opkg-update.sh
<span class="co0">#!/bin/sh</span>
<span class="kw2">rm</span> <span class="re5">-f</span> <span class="re5">-R</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists
<span class="kw2">mkdir</span> <span class="re5">-p</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists
<span class="kw1">while</span> <span class="kw3">read</span> TYPE REPO URL
<span class="kw1">do</span>
<span class="kw2">wget</span> <span class="re5">-O</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists<span class="sy0">/</span><span class="st0">"<span class="es3">${REPO}</span>"</span>.gz <span class="st0">"<span class="es3">${URL}</span>"</span><span class="sy0">/</span>Packages.gz
<span class="kw2">wget</span> <span class="re5">-O</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists<span class="sy0">/</span><span class="st0">"<span class="es3">${REPO}</span>"</span>.sig <span class="st0">"<span class="es3">${URL}</span>"</span><span class="sy0">/</span>Packages.sig
<span class="kw2">gunzip</span> <span class="re5">-k</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists<span class="sy0">/</span><span class="st0">"<span class="es3">${REPO}</span>"</span>.gz
usign <span class="re5">-V</span> <span class="re5">-P</span> <span class="sy0">/</span>etc<span class="sy0">/</span>opkg<span class="sy0">/</span>keys <span class="re5">-m</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists<span class="sy0">/</span><span class="st0">"<span class="es3">${REPO}</span>"</span> <span class="nu0">2</span><span class="sy0">&gt;&amp;</span><span class="nu0">1</span> \
<span class="sy0">|</span> <span class="kw2">grep</span> <span class="re5">-e</span> <span class="st0">"^OK$"</span> \
<span class="sy0">&amp;&amp;</span> <span class="kw2">mv</span> <span class="re5">-f</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists<span class="sy0">/</span><span class="st0">"<span class="es3">${REPO}</span>"</span>.gz <span class="sy0">/</span>tmp<span class="sy0">/</span>opkg-lists<span class="sy0">/</span><span class="st0">"<span class="es3">${REPO}</span>"</span>
<span class="kw1">done</span> <span class="sy0">&lt;</span> <span class="sy0">/</span>etc<span class="sy0">/</span>opkg<span class="sy0">/</span>distfeeds.conf
EOF
<span class="kw2">chmod</span> +x opkg-update.sh
&nbsp;
<span class="co0"># Run the script</span>
.<span class="sy0">/</span>opkg-update.sh</pre>

</div>

<h3 class="sectionedit23 page-header pb-3 mb-4 mt-0" id="out_of_space">Out of space<a class="anchorjs-link " href="#out_of_space" aria-label="Anchor link for: out_of_space" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">

<p>
Remove partly installed packages and their dependencies if <em>opkg</em> runs out of space during a transaction.
</p>
<pre class="code bash"><span class="co0"># Save the script</span>
<span class="kw2">cat</span> <span class="sy0">&lt;&lt;</span> <span class="st0">"EOF"</span> <span class="sy0">&gt;</span> opkg-rm-pkg-deps.sh
<span class="co0">#!/bin/sh</span>
opkg update
<span class="re2">URL</span>=<span class="st0">"$(opkg --force-space --noaction install "</span><span class="co1">${@}</span><span class="st0">" <span class="es1">\
</span>| sed -n -e "</span><span class="sy0">/</span>^Downloading\s<span class="sy0">*/</span>s<span class="sy0">///</span>p<span class="st0">")"</span>
<span class="kw2">rm</span> <span class="re5">-f</span> <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>opkg<span class="sy0">/</span>lock
<span class="kw1">for</span> URL <span class="kw1">in</span> <span class="co1">${URL}</span>
<span class="kw1">do</span> <span class="re2">FILE</span>=<span class="st0">"$(wget -q -O - "</span><span class="co1">${URL}</span><span class="st0">" <span class="es1">\
</span>| tar -O -x -z ./data.tar.gz <span class="es1">\
</span>| tar -t -z <span class="es1">\
</span>| sort -r <span class="es1">\
</span>| sed -e "</span>s<span class="sy0">|</span>^\.<span class="sy0">|/</span>overlay<span class="sy0">/</span>upper<span class="sy0">|</span><span class="st0">")"</span>
<span class="kw1">for</span> FILE <span class="kw1">in</span> <span class="co1">${FILE}</span>
<span class="kw1">do</span> <span class="kw1">if</span> <span class="br0">[</span> <span class="re5">-f</span> <span class="st0">"<span class="es3">${FILE}</span>"</span> <span class="br0">]</span>
<span class="kw1">then</span> <span class="kw2">rm</span> <span class="re5">-f</span> <span class="st0">"<span class="es3">${FILE}</span>"</span>
<span class="kw1">elif</span> <span class="br0">[</span> <span class="re5">-d</span> <span class="st0">"<span class="es3">${FILE}</span>"</span> <span class="br0">]</span>
<span class="kw1">then</span> <span class="kw2">rmdir</span> <span class="st0">"<span class="es3">${FILE}</span>"</span>
<span class="kw1">fi</span>
<span class="kw1">done</span>
<span class="kw1">done</span>
EOF
<span class="kw2">chmod</span> +x opkg-rm-pkg-deps.sh</pre>
<pre class="code bash"><span class="co0"># Run the script</span>
.<span class="sy0">/</span>opkg-rm-pkg-deps.sh package_name
&nbsp;
<span class="co0"># Reboot to make the free space visible</span>
reboot</pre>

</div>

<h3 class="sectionedit24 page-header pb-3 mb-4 mt-0" id="local_repository">Local repository<a class="anchorjs-link " href="#local_repository" aria-label="Anchor link for: local_repository" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h3>
<div class="level3">

<p>
There may be use cases where having a package repository on the device itself is advantageous:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Unreliable WANs, where the 
connectivity upstream of the device to a remote repository goes down for
 an unacceptable period of time.</div>
</li>
<li class="level1"><div class="li"> Bandwidth Caps, where the 
connectivity upstream of the device to a remote repository has a limited
 amount of data that can be fetched before the connectivity is throttled
 or goes down until the next period where the cap resets.</div>
</li>
<li class="level1"><div class="li"> A repository with customization; built from source, which isn't available from remote repositories.</div>
</li>
<li class="level1"><div class="li"> The device acts as a reference 
device for other systems, to ensure that the package versions across the
 devices local to the network remain consistent.</div>
</li>
</ul>

<p>
Set up a local repository for your target.
Assuming about 2-3 <abbr title="" data-original-title="Gigabyte">GB</abbr> of free space is available.
</p>
<pre class="code bash"><span class="co0"># Install packages</span>
opkg update
opkg <span class="kw2">install</span> rsync
&nbsp;
<span class="co0"># Save the script</span>
<span class="kw2">cat</span> <span class="sy0">&lt;&lt;</span> <span class="st0">"EOF"</span> <span class="sy0">&gt;</span> local-repo-sync.sh
<span class="co0">#!/bin/sh</span>
. <span class="sy0">/</span>etc<span class="sy0">/</span>os-release
<span class="re2">REPO_LOCAL</span>=<span class="st0">"file://<span class="es3">${1:-/${ID}</span>}/"</span>
<span class="re2">REPO_URL</span>=<span class="st0">"rsync://rsync.<span class="es3">${HOME_URL#*//}</span>"</span>
<span class="kw1">case</span> <span class="st0">"<span class="es3">${VERSION_ID}</span>"</span> <span class="kw1">in</span>
<span class="br0">(</span>snapshot<span class="br0">)</span> <span class="re2">REPO_DIR</span>=<span class="st0">"downloads/snapshots"</span> <span class="sy0">;;</span>
<span class="br0">(</span><span class="sy0">*</span><span class="br0">)</span> <span class="re2">REPO_DIR</span>=<span class="st0">"downloads/releases/<span class="es3">${VERSION_ID}</span>"</span> <span class="sy0">;;</span>
<span class="kw1">esac</span>
<span class="re2">REPO_CORE</span>=<span class="st0">"<span class="es3">${REPO_DIR}</span>/targets/<span class="es3">${OPENWRT_BOARD}</span>"</span>
<span class="re2">REPO_PKGS</span>=<span class="st0">"<span class="es3">${REPO_DIR}</span>/packages/<span class="es3">${OPENWRT_ARCH}</span>"</span>
<span class="kw1">for</span> REPO_DIR <span class="kw1">in</span> <span class="st0">"<span class="es3">${REPO_CORE}</span>"</span> <span class="st0">"<span class="es3">${REPO_PKGS}</span>"</span>
<span class="kw1">do</span> <span class="kw2">mkdir</span> <span class="re5">-p</span> <span class="st0">"<span class="es3">${REPO_LOCAL#*//}</span><span class="es3">${REPO_DIR#*/}</span>"</span>
rsync <span class="re5">--bwlimit</span>=<span class="st0">"8M"</span> <span class="re5">--del</span> <span class="re5">-r</span> <span class="re5">-t</span> <span class="re5">-v</span> \
<span class="st0">"<span class="es3">${REPO_URL}</span><span class="es3">${REPO_DIR}</span>/"</span> \
<span class="st0">"<span class="es3">${REPO_LOCAL#*//}</span><span class="es3">${REPO_DIR#*/}</span>/"</span>
<span class="kw1">done</span>
EOF
<span class="kw2">chmod</span> +x local-repo-sync.sh
&nbsp;
<span class="co0"># Run the script</span>
.<span class="sy0">/</span>local-repo-sync.sh <span class="sy0">/</span>openwrt
&nbsp;
<span class="co0"># Configure Opkg to use local repo</span>
. <span class="sy0">/</span>etc<span class="sy0">/</span>os-release
<span class="re2">REPO_LOCAL</span>=<span class="st0">"file:///<span class="es3">${ID}</span>/"</span>
<span class="re2">REPO_URL</span>=<span class="st0">"https://downloads.<span class="es3">${HOME_URL#*//}</span>"</span>
<span class="kw2">sed</span> <span class="re5">-i</span> <span class="re5">-e</span> <span class="st0">"s|<span class="es3">${REPO_URL}</span>|<span class="es3">${REPO_LOCAL}</span>|"</span> <span class="sy0">/</span>etc<span class="sy0">/</span>opkg<span class="sy0">/</span>distfeeds.conf
&nbsp;
<span class="co0"># Share the repository on the LAN</span>
<span class="kw2">ln</span> <span class="re5">-f</span> <span class="re5">-s</span> <span class="co1">${REPO_LOCAL#*//}</span> <span class="sy0">/</span>www<span class="sy0">/</span><span class="co1">${ID}</span>
&nbsp;
<span class="co0"># Configure Opkg on the clients</span>
. <span class="sy0">/</span>etc<span class="sy0">/</span>os-release
<span class="re2">REPO_LOCAL</span>=<span class="st0">"http://192.168.1.1/<span class="es3">${ID}</span>/"</span>
<span class="re2">REPO_URL</span>=<span class="st0">"https://downloads.<span class="es3">${HOME_URL#*//}</span>"</span>
<span class="kw2">sed</span> <span class="re5">-i</span> <span class="re5">-e</span> <span class="st0">"s|<span class="es3">${REPO_URL}</span>|<span class="es3">${REPO_LOCAL}</span>|"</span> <span class="sy0">/</span>etc<span class="sy0">/</span>opkg<span class="sy0">/</span>distfeeds.conf</pre>

<p>
See also: <a href="https://openwrt.org/downloads#how_to_mirror" class="wikilink1" title="downloads" data-wiki-id="downloads">How to mirror</a>
</p>

</div>

<h2 class="sectionedit25 page-header pb-3 mb-4 mt-0" id="non-standard_installation_destinations">Non-standard installation destinations<a class="anchorjs-link " href="#non-standard_installation_destinations" aria-label="Anchor link for: non standard_installation_destinations" data-anchorjs-icon="" style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; line-height: 1; padding-left: 0.375em;"></a></h2>
<div class="level2">

<p>
Due to its history (fork of ipkg), opkg can specify a destination 
different than root for package installation, but since most packages 
don't support this natively, it's more a curiosity than actually useful.
</p>
<div class="wrap_info plugin_wrap">
<p>
The recommended way to have more space to install your packages is <a href="https://openwrt.org/docs/guide-user/additional-software/extroot_configuration" class="wikilink1" title="docs:guide-user:additional-software:extroot_configuration" data-wiki-id="docs:guide-user:additional-software:extroot_configuration">Extroot</a>
</p>
</div><div class="wrap_important plugin_wrap">
<p>
This solution will NOT work out-of-the-box in most cases, OpenWrt 
packages are designed to be installed in root filesystem and may need 
additional symlinks or modifications to work at all under the changed 
path!
</p>
</div>
<p>
The default <code>/etc/opkg.conf</code> actually contains three destinations:
</p>
<pre class="code bash">dest root <span class="sy0">/</span>
dest ram <span class="sy0">/</span>tmp
dest mnt <span class="sy0">/</span>mnt</pre>

<p>
The format of destination lines is simply the keyword dest, followed by a
 name for this destination (this can be anything), followed by a 
filesystem location.
Any destination that has been thus configured can then be specified on 
the opkg command line like this:
</p>
<pre class="code bash">opkg <span class="re5">-d</span> destination_name <span class="kw2">install</span> somepackage</pre>

<p>
The <em>dest</em> argument must refer to one of the defined destinations in <code>/etc/opkg.conf</code>, e.g. <code>-d ram</code> to install packages to <code>/tmp/</code>.
</p>

<p>
If you want to install kernel modules on any other destination than root, you might want to read this first: <a href="https://dev.openwrt.org/ticket/10739" class="urlextern" title="https://dev.openwrt.org/ticket/10739" rel="ugc nofollow">https://dev.openwrt.org/ticket/10739</a>
</p>

</div>
<div class="cookielaw-banner cookielaw-bottom">This website uses 
cookies. By using the website, you agree with storing cookies on your 
computer. Also you acknowledge that you have read and understand our 
Privacy Policy. If you do not agree leave the website.<button class="btn btn-default">OK</button><a href="https://en.wikipedia.org/wiki/HTTP_cookie" target="_blank">More information about cookies</a></div></div><!-- /content --></div>
                    </div>
                </div>

                <div class="small text-right">

                                        <span class="docInfo">
                        <ul class="list-inline"><li><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify text-muted" data-icon="mdi:calendar" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5z" fill="currentColor"></path></svg> Last modified: <span title="2025/08/06 12:39">2025/08/06 12:39</span></li><li class="text-muted">by <bdi>jaimet</bdi></li></ul>                    </span>
                    
                    
                </div>

            </article>

            
        </div>

    </main>

    <footer id="dw__footer" class="dw-container py-5 dokuwiki container-fluid">
        <!-- footer -->
<div class="dw-container small container-fluid mx-5">

    
    <div class="footer-dw-title">
                <!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:1,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_centeralign wrap_box plugin_wrap" style="width: 100%;">
<p>
<strong>Self-registration in the wiki has been disabled.<br>
If you want to contribute to the OpenWrt wiki, please post <a href="https://forum.openwrt.org/t/applying-for-openwrt-wiki-account/101671" class="urlextern navbar-link" title="https://forum.openwrt.org/t/applying-for-openwrt-wiki-account/101671" rel="ugc nofollow">HERE</a> in the forum or ask on <abbr title="" data-original-title="Internet Relay Chat">IRC</abbr> for access.</strong>
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} -->    </div>

    <div class="footer-license row">
        <hr>
        <div id="dw__license" class="col-sm-6">
                        <p>
                <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" title="CC Attribution-Share Alike 4.0 International" target="" itemscope="" itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license navbar-link"><img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/cc.png" width="24" height="24" alt="cc"> <img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/by.png" width="24" height="24" alt="by"> <img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/sa.png" width="24" height="24" alt="sa"> </a>            </p>
            <p class="small">
                Except where otherwise noted, content on this wiki is licensed under the following license:<br><a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" title="CC Attribution-Share Alike 4.0 International" target="" itemscope="" itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license navbar-link">CC Attribution-Share Alike 4.0 International</a>            </p>
                    </div>

        <div class="col-sm-6">
                    </div>

    </div>

</div>
<!-- /footer -->
    </footer>

    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default" title="skip to content" accesskey="t">
        <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="iconify" data-icon="mdi:chevron-up" style="vertical-align: -0.125em; transform: rotate(360deg);"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6l1.41 1.41z" fill="currentColor"></path></svg>    </a>

    <div id="screen__mode">        <span class="visible-xs-block"></span>
        <span class="visible-sm-block"></span>
        <span class="visible-md-block"></span>
        <span class="visible-lg-block"></span>
    </div>

    <img src="[OpenWrt%20Wiki]%20Opkg%20package%20manager_files/taskrunner.gif" width="2" height="1" alt="">
</div>



</body></html>